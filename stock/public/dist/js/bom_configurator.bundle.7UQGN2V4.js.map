{
  "version": 3,
  "sources": ["../../../../../apps/stock/stock/public/js/bom_configurator/bom_configurator.bundle.js"],
  "sourcesContent": ["class BOMConfigurator {\n\tconstructor({ wrapper, page, frm, bom_configurator }) {\n\t\tthis.$wrapper = $(wrapper);\n\t\tthis.page = page;\n\t\tthis.bom_configurator = bom_configurator;\n\t\tthis.frm = frm;\n\n\t\tthis.make();\n\t\tthis.prepare_layout();\n\t\tthis.bind_events();\n\t}\n\n\tadd_boms() {\n\t\tthis.frm.call({\n\t\t\tmethod: \"add_boms\",\n\t\t\tfreeze: true,\n\t\t\tdoc: this.frm.doc,\n\t\t});\n\t}\n\n\tmake() {\n\t\tlet options = {\n\t\t\t...this.tree_options(),\n\t\t\t...this.tree_methods(),\n\t\t};\n\n\t\tfrappe.views.trees[\"BOM Configurator\"] = new frappe.views.TreeView(options);\n\t\tthis.tree_view = frappe.views.trees[\"BOM Configurator\"];\n\t}\n\n\tbind_events() {\n\t\tfrappe.views.trees[\"BOM Configurator\"].events = {\n\t\t\tfrm: this.frm,\n\t\t\tadd_item: this.add_item,\n\t\t\tadd_sub_assembly: this.add_sub_assembly,\n\t\t\tget_sub_assembly_modal_fields: this.get_sub_assembly_modal_fields,\n\t\t\tconvert_to_sub_assembly: this.convert_to_sub_assembly,\n\t\t\tdelete_node: this.delete_node,\n\t\t\tedit_qty: this.edit_qty,\n\t\t\tload_tree: this.load_tree,\n\t\t\tset_default_qty: this.set_default_qty,\n\t\t}\n\t}\n\n\ttree_options() {\n\t\treturn {\n\t\t\tparent: this.$wrapper.get(0),\n\t\t\tbody: this.$wrapper.get(0),\n\t\t\tdoctype: 'BOM Configurator',\n\t\t\tpage: this.page,\n\t\t\texpandable: true,\n\t\t\ttitle: __(\"Configure Product Assembly\"),\n\t\t\tbreadcrumb: \"Manufacturing\",\n\t\t\tget_tree_nodes: \"stock.manufacturing.doctype.bom_creator.bom_creator.get_children\",\n\t\t\troot_label: this.frm.doc.item_code,\n\t\t\tdisable_add_node: true,\n\t\t\tget_tree_root: false,\n\t\t\tshow_expand_all: false,\n\t\t\textend_toolbar: false,\n\t\t\tdo_not_make_page: true,\n\t\t\tdo_not_setup_menu: true,\n\t\t}\n\t}\n\n\ttree_methods() {\n\t\tlet frm_obj = this;\n\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\treturn {\n\t\t\tonload: function(me) {\n\t\t\t\tme.args[\"parent_id\"] = frm_obj.frm.doc.name;\n\t\t\t\tme.args[\"parent\"] = frm_obj.frm.doc.item_code;\n\t\t\t\tme.parent = frm_obj.$wrapper.get(0);\n\t\t\t\tme.body = frm_obj.$wrapper.get(0);\n\t\t\t\tme.make_tree();\n\t\t\t},\n\t\t\tonrender(node) {\n\t\t\t\tconst qty = node.data.qty || frm_obj.frm.doc.qty;\n\t\t\t\tconst uom = node.data.uom || frm_obj.frm.doc.uom;\n\t\t\t\tconst docname = node.data.name || frm_obj.frm.doc.name;\n\t\t\t\tlet amount = node.data.amount;\n\t\t\t\tif (node.data.value === frm_obj.frm.doc.item_code) {\n\t\t\t\t\tamount = frm_obj.frm.doc.raw_material_cost;\n\t\t\t\t}\n\n\t\t\t\tamount = frappe.format(amount, { fieldtype: \"Currency\", currency: frm_obj.frm.doc.currency });\n\n\t\t\t\t$(`\n\t\t\t\t\t<div class=\"pill small pull-right bom-qty-pill\"\n\t\t\t\t\t\tstyle=\"background-color: var(--bg-white);\n\t\t\t\t\t\t\tcolor: var(--text-on-gray);\n\t\t\t\t\t\t\tfont-weight:450;\n\t\t\t\t\t\t\tmargin-right: 40px;\n\t\t\t\t\t\t\tdisplay: inline-flex;\n\t\t\t\t\t\t\tmin-width: 128px;\n\t\t\t\t\t\t\tborder: 1px solid var(--bg-gray);\n\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t<div style=\"padding-right:5px\" data-bom-qty-docname=\"${docname}\">${qty} ${uom}</div>\n\t\t\t\t\t\t\t<div class=\"fg-item-amt\" style=\"padding-left:12px; border-left:1px solid var(--bg-gray)\">\n\t\t\t\t\t\t\t\t${amount}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t`).insertBefore(node.$ul);\n\t\t\t},\n\t\t\ttoolbar: this.frm?.doc.docstatus === 0 ? [\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('edit', 'sm') + \" Qty\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.edit_qty(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('add', 'sm') + \" Raw Material\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.add_item(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn node.expandable;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('add', 'sm') + \" Sub Assembly\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.add_sub_assembly(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn node.expandable;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(\"Expand All\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\t\t\t\t\tif (!node.expanded) {\n\t\t\t\t\t\t\tview.tree.load_children(node, true);\n\t\t\t\t\t\t\t$(node.parent[0]).find(\".tree-children\").show();\n\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Collapse All\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode.$tree_link.trigger(\"click\");\n\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Expand All\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn node.expandable && node.is_root;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs expand-all-btn\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('move', 'sm') + \" Sub Assembly\"),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.convert_to_sub_assembly(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn !node.expandable;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel:__(frappe.utils.icon('delete', 'sm') + __(\" Item\")),\n\t\t\t\t\tclick: function(node) {\n\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\tview.events.delete_node(node, view);\n\t\t\t\t\t},\n\t\t\t\t\tcondition: function(node) {\n\t\t\t\t\t\treturn !node.is_root;\n\t\t\t\t\t},\n\t\t\t\t\tbtnClass: \"hidden-xs\"\n\t\t\t\t},\n\t\t\t] : [{\n\t\t\t\tlabel:__(\"Expand All\"),\n\t\t\t\tclick: function(node) {\n\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\t\t\t\tif (!node.expanded) {\n\t\t\t\t\t\tview.tree.load_children(node, true);\n\t\t\t\t\t\t$(node.parent[0]).find(\".tree-children\").show();\n\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Collapse All\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.$tree_link.trigger(\"click\");\n\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(\"Expand All\");\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcondition: function(node) {\n\t\t\t\t\treturn node.expandable && node.is_root;\n\t\t\t\t},\n\t\t\t\tbtnClass: \"hidden-xs expand-all-btn\"\n\t\t\t}],\n\t\t}\n\t}\n\n\tadd_item(node, view) {\n\t\tfrappe.prompt([\n\t\t\t{ label: __(\"Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1 },\n\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1 },\n\t\t],\n\t\t(data) => {\n\t\t\tif (!node.data.parent_id) {\n\t\t\t\tnode.data.parent_id = this.frm.doc.name;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"stock.manufacturing.doctype.bom_creator.bom_creator.add_item\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\titem_code: data.item_code,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tqty: data.qty,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t__(\"Add Item\"),\n\t\t__(\"Add\"));\n\t}\n\n\tadd_sub_assembly(node, view) {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\tfields: view.events.get_sub_assembly_modal_fields(),\n\t\t\ttitle: __(\"Add Sub Assembly\"),\n\t\t});\n\n\t\tdialog.show();\n\t\tview.events.set_default_qty(dialog);\n\n\t\tdialog.set_primary_action(__(\"Add\"), () => {\n\t\t\tlet bom_item = dialog.get_values();\n\n\t\t\tif (!node.data?.parent_id) {\n\t\t\t\tnode.data.parent_id = this.frm.doc.name;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"stock.manufacturing.doctype.bom_creator.bom_creator.add_sub_assembly\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tbom_item: bom_item,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdialog.hide();\n\t\t});\n\n\t}\n\n\tget_sub_assembly_modal_fields(read_only=false) {\n\t\treturn [\n\t\t\t{ label: __(\"Sub Assembly Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1, read_only: read_only },\n\t\t\t{ fieldtype: \"Column Break\" },\n\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1, read_only: read_only },\n\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t{ label: __(\"Raw Materials\"), fieldname: \"items\", fieldtype: \"Table\", reqd: 1,\n\t\t\t\tfields: [\n\t\t\t\t\t{ label: __(\"Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1, in_list_view: 1 },\n\t\t\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1, in_list_view: 1 },\n\t\t\t\t]\n\t\t\t},\n\t\t]\n\t}\n\n\tconvert_to_sub_assembly(node, view) {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\tfields: view.events.get_sub_assembly_modal_fields(true),\n\t\t\ttitle: __(\"Add Sub Assembly\"),\n\t\t});\n\n\t\tdialog.set_values({\n\t\t\titem_code: node.data.value,\n\t\t\tqty: node.data.qty,\n\t\t});\n\n\t\tdialog.show();\n\t\tview.events.set_default_qty(dialog);\n\n\t\tdialog.set_primary_action(__(\"Add\"), () => {\n\t\t\tlet bom_item = dialog.get_values();\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"stock.manufacturing.doctype.bom_creator.bom_creator.add_sub_assembly\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tbom_item: bom_item,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tconvert_to_sub_assembly: true,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tnode.expandable = true;\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdialog.hide();\n\t\t});\n\t}\n\n\tset_default_qty(dialog) {\n\t\tdialog.fields_dict.items.grid.fields_map.item_code.onchange = function (event) {\n\t\t\tif (event) {\n\t\t\t\tlet name = $(event.currentTarget).closest('.grid-row').attr(\"data-name\")\n\t\t\t\tlet item_row = dialog.fields_dict.items.grid.grid_rows_by_docname[name].doc;\n\t\t\t\titem_row.qty = 1;\n\t\t\t\tdialog.fields_dict.items.grid.refresh()\n\t\t\t}\n\t\t}\n\t}\n\n\tdelete_node(node, view) {\n\t\tfrappe.confirm(__(\"Are you sure you want to delete this Item?\"), () => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"stock.manufacturing.doctype.bom_creator.bom_creator.delete_node\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tdoctype: node.data.doctype,\n\t\t\t\t\tdocname: node.data.name,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node.parent_node);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tedit_qty(node, view) {\n\t\tlet qty = node.data.qty || this.frm.doc.qty;\n\t\tfrappe.prompt([\n\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: qty, fieldtype: \"Float\", reqd: 1 },\n\t\t],\n\t\t(data) => {\n\t\t\tlet doctype = node.data.doctype || this.frm.doc.doctype;\n\t\t\tlet docname = node.data.name || this.frm.doc.name;\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"stock.manufacturing.doctype.bom_creator.bom_creator.edit_qty\",\n\t\t\t\targs: {\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\tdocname: docname,\n\t\t\t\t\tqty: data.qty,\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tnode.data.qty = data.qty;\n\t\t\t\t\tlet uom = node.data.uom || this.frm.doc.uom;\n\t\t\t\t\t$(node.parent.get(0)).find(`[data-bom-qty-docname='${docname}']`).html(data.qty + \" \" + uom);\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t__(\"Edit Qty\"),\n\t\t__(\"Update\"));\n\t}\n\n\tprepare_layout() {\n\t\tlet main_div = $(this.page)[0];\n\n\t\tmain_div.style.marginBottom = \"15px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.minHeight = \"370px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.maxHeight = \"370px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.overflowY = \"auto\";\n\t}\n\n\tload_tree(response, node) {\n\t\tlet item_row = \"\";\n\t\tlet parent_dom = \"\"\n\t\tlet total_amount = response.message.raw_material_cost;\n\n\t\tfrappe.views.trees[\"BOM Configurator\"].tree.load_children(node);\n\n\t\twhile (node) {\n\t\t\titem_row = response.message.items.filter(item => item.name === node.data.name);\n\n\t\t\tif (item_row?.length) {\n\t\t\t\tnode.data.amount = item_row[0].amount;\n\t\t\t\ttotal_amount = node.data.amount\n\t\t\t} else {\n\t\t\t\ttotal_amount = response.message.raw_material_cost;\n\t\t\t}\n\n\t\t\tparent_dom = $(node.parent.get(0));\n\t\t\ttotal_amount = frappe.format(\n\t\t\t\ttotal_amount, {\n\t\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\t\tcurrency: this.frm.doc.currency\n\t\t\t\t}\n\t\t\t);\n\n\t\t\t$($(parent_dom).find(\".fg-item-amt\")[0]).html(total_amount);\n\t\t\tnode = node.parent_node;\n\n\t\t}\n\n\t}\n}\n\nfrappe.ui.BOMConfigurator = BOMConfigurator;"],
  "mappings": "+VAAA,IAAMA,EAAN,KAAsB,CACrB,YAAY,CAAE,QAAAC,EAAS,KAAAC,EAAM,IAAAC,EAAK,iBAAAC,CAAiB,EAAG,CACrD,KAAK,SAAW,EAAEH,CAAO,EACzB,KAAK,KAAOC,EACZ,KAAK,iBAAmBE,EACxB,KAAK,IAAMD,EAEX,KAAK,KAAK,EACV,KAAK,eAAe,EACpB,KAAK,YAAY,CAClB,CAEA,UAAW,CACV,KAAK,IAAI,KAAK,CACb,OAAQ,WACR,OAAQ,GACR,IAAK,KAAK,IAAI,GACf,CAAC,CACF,CAEA,MAAO,CACN,IAAIE,EAAUC,IAAA,GACV,KAAK,aAAa,GAClB,KAAK,aAAa,GAGtB,OAAO,MAAM,MAAM,oBAAsB,IAAI,OAAO,MAAM,SAASD,CAAO,EAC1E,KAAK,UAAY,OAAO,MAAM,MAAM,mBACrC,CAEA,aAAc,CACb,OAAO,MAAM,MAAM,oBAAoB,OAAS,CAC/C,IAAK,KAAK,IACV,SAAU,KAAK,SACf,iBAAkB,KAAK,iBACvB,8BAA+B,KAAK,8BACpC,wBAAyB,KAAK,wBAC9B,YAAa,KAAK,YAClB,SAAU,KAAK,SACf,UAAW,KAAK,UAChB,gBAAiB,KAAK,eACvB,CACD,CAEA,cAAe,CACd,MAAO,CACN,OAAQ,KAAK,SAAS,IAAI,CAAC,EAC3B,KAAM,KAAK,SAAS,IAAI,CAAC,EACzB,QAAS,mBACT,KAAM,KAAK,KACX,WAAY,GACZ,MAAO,GAAG,4BAA4B,EACtC,WAAY,gBACZ,eAAgB,mEAChB,WAAY,KAAK,IAAI,IAAI,UACzB,iBAAkB,GAClB,cAAe,GACf,gBAAiB,GACjB,eAAgB,GAChB,iBAAkB,GAClB,kBAAmB,EACpB,CACD,CAEA,cAAe,CAhEhB,IAAAE,EAiEE,IAAIC,EAAU,KACVC,EAAO,OAAO,MAAM,MAAM,oBAE9B,MAAO,CACN,OAAQ,SAASC,EAAI,CACpBA,EAAG,KAAK,UAAeF,EAAQ,IAAI,IAAI,KACvCE,EAAG,KAAK,OAAYF,EAAQ,IAAI,IAAI,UACpCE,EAAG,OAASF,EAAQ,SAAS,IAAI,CAAC,EAClCE,EAAG,KAAOF,EAAQ,SAAS,IAAI,CAAC,EAChCE,EAAG,UAAU,CACd,EACA,SAASC,EAAM,CACd,IAAMC,EAAMD,EAAK,KAAK,KAAOH,EAAQ,IAAI,IAAI,IACvCK,EAAMF,EAAK,KAAK,KAAOH,EAAQ,IAAI,IAAI,IACvCM,EAAUH,EAAK,KAAK,MAAQH,EAAQ,IAAI,IAAI,KAC9CO,EAASJ,EAAK,KAAK,OACnBA,EAAK,KAAK,QAAUH,EAAQ,IAAI,IAAI,YACvCO,EAASP,EAAQ,IAAI,IAAI,mBAG1BO,EAAS,OAAO,OAAOA,EAAQ,CAAE,UAAW,WAAY,SAAUP,EAAQ,IAAI,IAAI,QAAS,CAAC,EAE5F,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAUwDM,MAAYF,KAAOC;AAAA;AAAA,UAEvEE;AAAA;AAAA;AAAA;AAAA,KAIL,EAAE,aAAaJ,EAAK,GAAG,CACzB,EACA,UAASJ,EAAA,KAAK,MAAL,YAAAA,EAAU,IAAI,aAAc,EAAI,CACxC,CACC,MAAM,GAAG,OAAO,MAAM,KAAK,OAAQ,IAAI,EAAI,MAAM,EACjD,MAAO,SAASI,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAC9BA,EAAK,OAAO,SAASE,EAAMF,CAAI,CAChC,EACA,SAAU,WACX,EACA,CACC,MAAM,GAAG,OAAO,MAAM,KAAK,MAAO,IAAI,EAAI,eAAe,EACzD,MAAO,SAASE,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAC9BA,EAAK,OAAO,SAASE,EAAMF,CAAI,CAChC,EACA,UAAW,SAASE,EAAM,CACzB,OAAOA,EAAK,UACb,EACA,SAAU,WACX,EACA,CACC,MAAM,GAAG,OAAO,MAAM,KAAK,MAAO,IAAI,EAAI,eAAe,EACzD,MAAO,SAASA,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAC9BA,EAAK,OAAO,iBAAiBE,EAAMF,CAAI,CACxC,EACA,UAAW,SAASE,EAAM,CACzB,OAAOA,EAAK,UACb,EACA,SAAU,WACX,EACA,CACC,MAAM,GAAG,YAAY,EACrB,MAAO,SAASA,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAEzBE,EAAK,UAKTA,EAAK,WAAW,QAAQ,OAAO,EAC/BA,EAAK,SAAS,KAAK,iBAAiB,EAAE,KAAK,YAAY,IALvDF,EAAK,KAAK,cAAcE,EAAM,EAAI,EAClC,EAAEA,EAAK,OAAO,EAAE,EAAE,KAAK,gBAAgB,EAAE,KAAK,EAC9CA,EAAK,SAAS,KAAK,iBAAiB,EAAE,KAAK,cAAc,EAK3D,EACA,UAAW,SAASA,EAAM,CACzB,OAAOA,EAAK,YAAcA,EAAK,OAChC,EACA,SAAU,0BACX,EACA,CACC,MAAM,GAAG,OAAO,MAAM,KAAK,OAAQ,IAAI,EAAI,eAAe,EAC1D,MAAO,SAASA,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAC9BA,EAAK,OAAO,wBAAwBE,EAAMF,CAAI,CAC/C,EACA,UAAW,SAASE,EAAM,CACzB,MAAO,CAACA,EAAK,UACd,EACA,SAAU,WACX,EACA,CACC,MAAM,GAAG,OAAO,MAAM,KAAK,SAAU,IAAI,EAAI,GAAG,OAAO,CAAC,EACxD,MAAO,SAASA,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAC9BA,EAAK,OAAO,YAAYE,EAAMF,CAAI,CACnC,EACA,UAAW,SAASE,EAAM,CACzB,MAAO,CAACA,EAAK,OACd,EACA,SAAU,WACX,CACD,EAAI,CAAC,CACJ,MAAM,GAAG,YAAY,EACrB,MAAO,SAASA,EAAM,CACrB,IAAIF,EAAO,OAAO,MAAM,MAAM,oBAEzBE,EAAK,UAKTA,EAAK,WAAW,QAAQ,OAAO,EAC/BA,EAAK,SAAS,KAAK,iBAAiB,EAAE,KAAK,YAAY,IALvDF,EAAK,KAAK,cAAcE,EAAM,EAAI,EAClC,EAAEA,EAAK,OAAO,EAAE,EAAE,KAAK,gBAAgB,EAAE,KAAK,EAC9CA,EAAK,SAAS,KAAK,iBAAiB,EAAE,KAAK,cAAc,EAK3D,EACA,UAAW,SAASA,EAAM,CACzB,OAAOA,EAAK,YAAcA,EAAK,OAChC,EACA,SAAU,0BACX,CAAC,CACF,CACD,CAEA,SAASA,EAAMF,EAAM,CACpB,OAAO,OAAO,CACb,CAAE,MAAO,GAAG,MAAM,EAAG,UAAW,YAAa,UAAW,OAAQ,QAAS,OAAQ,KAAM,CAAE,EACzF,CAAE,MAAO,GAAG,KAAK,EAAG,UAAW,MAAO,QAAS,EAAK,UAAW,QAAS,KAAM,CAAE,CACjF,EACCO,GAAS,CACJL,EAAK,KAAK,YACdA,EAAK,KAAK,UAAY,KAAK,IAAI,IAAI,MAGpC,OAAO,KAAK,CACX,OAAQ,+DACR,KAAM,CACL,OAAQA,EAAK,KAAK,UAClB,QAASA,EAAK,KAAK,MACnB,UAAWK,EAAK,UAChB,gBAAiBL,EAAK,KAAK,MAAQ,KAAK,IAAI,IAAI,KAChD,IAAKK,EAAK,GACX,EACA,SAAWC,GAAM,CAChBR,EAAK,OAAO,UAAUQ,EAAGN,CAAI,CAC9B,CACD,CAAC,CACF,EACA,GAAG,UAAU,EACb,GAAG,KAAK,CAAC,CACV,CAEA,iBAAiBA,EAAMF,EAAM,CAC5B,IAAIS,EAAS,IAAI,OAAO,GAAG,OAAO,CACjC,OAAQT,EAAK,OAAO,8BAA8B,EAClD,MAAO,GAAG,kBAAkB,CAC7B,CAAC,EAEDS,EAAO,KAAK,EACZT,EAAK,OAAO,gBAAgBS,CAAM,EAElCA,EAAO,mBAAmB,GAAG,KAAK,EAAG,IAAM,CA5O7C,IAAAX,EA6OG,IAAIY,EAAWD,EAAO,WAAW,GAE5BX,EAAAI,EAAK,OAAL,MAAAJ,EAAW,YACfI,EAAK,KAAK,UAAY,KAAK,IAAI,IAAI,MAGpC,OAAO,KAAK,CACX,OAAQ,uEACR,KAAM,CACL,OAAQA,EAAK,KAAK,UAClB,QAASA,EAAK,KAAK,MACnB,gBAAiBA,EAAK,KAAK,MAAQ,KAAK,IAAI,IAAI,KAChD,SAAUQ,CACX,EACA,SAAWF,GAAM,CAChBR,EAAK,OAAO,UAAUQ,EAAGN,CAAI,CAC9B,CACD,CAAC,EAEDO,EAAO,KAAK,CACb,CAAC,CAEF,CAEA,8BAA8BE,EAAU,GAAO,CAC9C,MAAO,CACN,CAAE,MAAO,GAAG,mBAAmB,EAAG,UAAW,YAAa,UAAW,OAAQ,QAAS,OAAQ,KAAM,EAAG,UAAWA,CAAU,EAC5H,CAAE,UAAW,cAAe,EAC5B,CAAE,MAAO,GAAG,KAAK,EAAG,UAAW,MAAO,QAAS,EAAK,UAAW,QAAS,KAAM,EAAG,UAAWA,CAAU,EACtG,CAAE,UAAW,eAAgB,EAC7B,CAAE,MAAO,GAAG,eAAe,EAAG,UAAW,QAAS,UAAW,QAAS,KAAM,EAC3E,OAAQ,CACP,CAAE,MAAO,GAAG,MAAM,EAAG,UAAW,YAAa,UAAW,OAAQ,QAAS,OAAQ,KAAM,EAAG,aAAc,CAAE,EAC1G,CAAE,MAAO,GAAG,KAAK,EAAG,UAAW,MAAO,QAAS,EAAK,UAAW,QAAS,KAAM,EAAG,aAAc,CAAE,CAClG,CACD,CACD,CACD,CAEA,wBAAwBT,EAAMF,EAAM,CACnC,IAAIS,EAAS,IAAI,OAAO,GAAG,OAAO,CACjC,OAAQT,EAAK,OAAO,8BAA8B,EAAI,EACtD,MAAO,GAAG,kBAAkB,CAC7B,CAAC,EAEDS,EAAO,WAAW,CACjB,UAAWP,EAAK,KAAK,MACrB,IAAKA,EAAK,KAAK,GAChB,CAAC,EAEDO,EAAO,KAAK,EACZT,EAAK,OAAO,gBAAgBS,CAAM,EAElCA,EAAO,mBAAmB,GAAG,KAAK,EAAG,IAAM,CAC1C,IAAIC,EAAWD,EAAO,WAAW,EAEjC,OAAO,KAAK,CACX,OAAQ,uEACR,KAAM,CACL,OAAQP,EAAK,KAAK,UAClB,QAASA,EAAK,KAAK,MACnB,SAAUQ,EACV,gBAAiBR,EAAK,KAAK,MAAQ,KAAK,IAAI,IAAI,KAChD,wBAAyB,EAC1B,EACA,SAAW,GAAM,CAChBA,EAAK,WAAa,GAClBF,EAAK,OAAO,UAAU,EAAGE,CAAI,CAC9B,CACD,CAAC,EAEDO,EAAO,KAAK,CACb,CAAC,CACF,CAEA,gBAAgBA,EAAQ,CACvBA,EAAO,YAAY,MAAM,KAAK,WAAW,UAAU,SAAW,SAAUG,EAAO,CAC9E,GAAIA,EAAO,CACV,IAAIC,EAAO,EAAED,EAAM,aAAa,EAAE,QAAQ,WAAW,EAAE,KAAK,WAAW,EACnEE,EAAWL,EAAO,YAAY,MAAM,KAAK,qBAAqBI,GAAM,IACxEC,EAAS,IAAM,EACfL,EAAO,YAAY,MAAM,KAAK,QAAQ,CACvC,CACD,CACD,CAEA,YAAYP,EAAMF,EAAM,CACvB,OAAO,QAAQ,GAAG,4CAA4C,EAAG,IAAM,CACtE,OAAO,KAAK,CACX,OAAQ,kEACR,KAAM,CACL,OAAQE,EAAK,KAAK,UAClB,QAASA,EAAK,KAAK,MACnB,QAASA,EAAK,KAAK,QACnB,QAASA,EAAK,KAAK,IACpB,EACA,SAAWM,GAAM,CAChBR,EAAK,OAAO,UAAUQ,EAAGN,EAAK,WAAW,CAC1C,CACD,CAAC,CACF,CAAC,CACF,CAEA,SAASA,EAAMF,EAAM,CACpB,IAAIG,EAAMD,EAAK,KAAK,KAAO,KAAK,IAAI,IAAI,IACxC,OAAO,OAAO,CACb,CAAE,MAAO,GAAG,KAAK,EAAG,UAAW,MAAO,QAASC,EAAK,UAAW,QAAS,KAAM,CAAE,CACjF,EACCI,GAAS,CACT,IAAIQ,EAAUb,EAAK,KAAK,SAAW,KAAK,IAAI,IAAI,QAC5CG,EAAUH,EAAK,KAAK,MAAQ,KAAK,IAAI,IAAI,KAE7C,OAAO,KAAK,CACX,OAAQ,+DACR,KAAM,CACL,QAASa,EACT,QAASV,EACT,IAAKE,EAAK,IACV,OAAQL,EAAK,KAAK,SACnB,EACA,SAAWM,GAAM,CAChBN,EAAK,KAAK,IAAMK,EAAK,IACrB,IAAIH,EAAMF,EAAK,KAAK,KAAO,KAAK,IAAI,IAAI,IACxC,EAAEA,EAAK,OAAO,IAAI,CAAC,CAAC,EAAE,KAAK,0BAA0BG,KAAW,EAAE,KAAKE,EAAK,IAAM,IAAMH,CAAG,EAC3FJ,EAAK,OAAO,UAAUQ,EAAGN,CAAI,CAC9B,CACD,CAAC,CACF,EACA,GAAG,UAAU,EACb,GAAG,QAAQ,CAAC,CACb,CAEA,gBAAiB,CAChB,IAAIc,EAAW,EAAE,KAAK,IAAI,EAAE,GAE5BA,EAAS,MAAM,aAAe,OAC9B,EAAEA,CAAQ,EAAE,KAAK,gBAAgB,EAAE,GAAG,MAAM,UAAY,QACxD,EAAEA,CAAQ,EAAE,KAAK,gBAAgB,EAAE,GAAG,MAAM,UAAY,QACxD,EAAEA,CAAQ,EAAE,KAAK,gBAAgB,EAAE,GAAG,MAAM,UAAY,MACzD,CAEA,UAAUC,EAAUf,EAAM,CACzB,IAAIY,EAAW,GACXI,EAAa,GACbC,EAAeF,EAAS,QAAQ,kBAIpC,IAFA,OAAO,MAAM,MAAM,oBAAoB,KAAK,cAAcf,CAAI,EAEvDA,GACNY,EAAWG,EAAS,QAAQ,MAAM,OAAOG,GAAQA,EAAK,OAASlB,EAAK,KAAK,IAAI,EAEzEY,GAAA,MAAAA,EAAU,QACbZ,EAAK,KAAK,OAASY,EAAS,GAAG,OAC/BK,EAAejB,EAAK,KAAK,QAEzBiB,EAAeF,EAAS,QAAQ,kBAGjCC,EAAa,EAAEhB,EAAK,OAAO,IAAI,CAAC,CAAC,EACjCiB,EAAe,OAAO,OACrBA,EAAc,CACb,UAAW,WACX,SAAU,KAAK,IAAI,IAAI,QACxB,CACD,EAEA,EAAE,EAAED,CAAU,EAAE,KAAK,cAAc,EAAE,EAAE,EAAE,KAAKC,CAAY,EAC1DjB,EAAOA,EAAK,WAId,CACD,EAEA,OAAO,GAAG,gBAAkBX",
  "names": ["BOMConfigurator", "wrapper", "page", "frm", "bom_configurator", "options", "__spreadValues", "_a", "frm_obj", "view", "me", "node", "qty", "uom", "docname", "amount", "data", "r", "dialog", "bom_item", "read_only", "event", "name", "item_row", "doctype", "main_div", "response", "parent_dom", "total_amount", "item"]
}
